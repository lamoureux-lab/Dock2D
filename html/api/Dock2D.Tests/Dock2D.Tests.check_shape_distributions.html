<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>check_shape_distributions.py &mdash; Dock2D  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/50x50_logo.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="check_torchFFT.py" href="Dock2D.Tests.check_torchFFT.html" />
    <link rel="prev" title="check_param_state_dict_cuda.py" href="Dock2D.Tests.check_param_state_dict_cuda.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Dock2D
            <img src="../../_static/medium_size_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Dock2D.DatasetGeneration.html">DatasetGeneration/</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Dock2D.DatasetGeneration/Dock2D.DatasetGeneration.Protein.html">Protein</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Dock2D.DatasetGeneration/Dock2D.DatasetGeneration.ProteinPool.html">ProteinPool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Dock2D.DatasetGeneration/Dock2D.DatasetGeneration.DatasetGenerator.html">DatasetGenerator</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Dock2D.Models.html">Models/</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Dock2D.Models/Dock2D.Models.BruteForce/Dock2D.Models.BruteForce.html">BruteForce/</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Dock2D.Models/Dock2D.Models.BruteForce/Dock2D.Models.BruteForce.train_bruteforce_IP.html">train_bruteforce_IP.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Dock2D.Models/Dock2D.Models.BruteForce/Dock2D.Models.BruteForce.train_bruteforce_FI.html">train_bruteforce_FI.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Dock2D.Models/Dock2D.Models.Sampling/Dock2D.Models.Sampling.html">Sampling/</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Dock2D.Models/Dock2D.Models.Sampling/Dock2D.Models.Sampling.train_brutesimplified_IP.html">train_brutesimplified_IP.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Dock2D.Models/Dock2D.Models.Sampling/Dock2D.Models.Sampling.train_montecarlo_FI.html">train_montecarlo_FI.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Dock2D.Models/Dock2D.Models.TrainerIP.html">TrainerIP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Dock2D.Models/Dock2D.Models.TrainerFI.html">TrainerFI</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../Dock2D.Tests.html">Tests/</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Dock2D.Tests.check_homodimer_energyranking.html">check_homodimer_energyranking.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="Dock2D.Tests.check_MC_pretrained_surface.html">check_MC_pretrained_surface.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="Dock2D.Tests.check_param_state_dict_cuda.html">check_param_state_dict_cuda.py</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">check_shape_distributions.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="Dock2D.Tests.check_torchFFT.html">check_torchFFT.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="Dock2D.Tests.run_pytorch_profiler.html">run_pytorch_profiler.py</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Dock2D.Utility.html">Utility/</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Dock2D.Utility/Dock2D.Utility.PlotterFI.html">PlotterFI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Dock2D.Utility/Dock2D.Utility.PlotterIP.html">PlotterIP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Dock2D.Utility/Dock2D.Utility.SampleBuffer.html">SampleBuffer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Dock2D.Utility/Dock2D.Utility.TorchDataLoader.html">TorchDataLoader</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Dock2D.Utility/Dock2D.Utility.TorchDockingFFT.html">TorchDockingFFT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Dock2D.Utility/Dock2D.Utility.UtilityFunctions.html">UtilityFunctions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Dock2D.Utility/Dock2D.Utility.ValidationMetrics.html">ValidationMetrics</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Dock2D</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../Dock2D.Tests.html">Tests/</a> &raquo;</li>
      <li>check_shape_distributions.py</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api/Dock2D.Tests/Dock2D.Tests.check_shape_distributions.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="check-shape-distributions-py">
<h1>check_shape_distributions.py<a class="headerlink" href="#check-shape-distributions-py" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="Dock2D.Tests.check_shape_distributions.ShapeDistributions">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Dock2D.Tests.check_shape_distributions.</span></span><span class="sig-name descname"><span class="pre">ShapeDistributions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protein_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dock2D.Tests.check_shape_distributions.ShapeDistributions" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="Dock2D.Tests.check_shape_distributions.ShapeDistributions.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protein_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dock2D.Tests.check_shape_distributions.ShapeDistributions.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Initialize checks for generated protein pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protein_pool</strong> – protein pool filename.pkl</p></li>
<li><p><strong>dataset_name</strong> – data set name</p></li>
<li><p><strong>show</strong> – show plots (does not affect saving)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Dock2D.Tests.check_shape_distributions.ShapeDistributions.check_missing_examples">
<span class="sig-name descname"><span class="pre">check_missing_examples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">combination_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">found_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protein_shapes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dock2D.Tests.check_shape_distributions.ShapeDistributions.check_missing_examples" title="Permalink to this definition"></a></dt>
<dd><p>Check for unrepresented combinations of parameters and regenerate them purely for plotting purposes.
For example, given a small protein pool and a broad distribtution of parameters,
the tail combination of parameters might never be encountered and saved to the protein pool.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is done just to get an idea of what the desired shape distribution might look like,
but the user must either increase the protein pool size or increase relative probabilities of each parameter missing.
Increasing protein pool size is the simplist solution.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>combination_list</strong> – parameter combinations expected to encounter</p></li>
<li><p><strong>found_list</strong> – parameter combinations encountered</p></li>
<li><p><strong>protein_shapes</strong> – protein shapes extracted from protein pool file</p></li>
<li><p><strong>params_list</strong> – list of parameters extracted from protein pool file</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>indices</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Dock2D.Tests.check_shape_distributions.ShapeDistributions.get_counts">
<span class="sig-name descname"><span class="pre">get_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">counts</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dock2D.Tests.check_shape_distributions.ShapeDistributions.get_counts" title="Permalink to this definition"></a></dt>
<dd><p>Used to get unique, sorted parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>counts</strong> – unique counts of current parameter</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>unique</cite>, <cite>counts</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Dock2D.Tests.check_shape_distributions.ShapeDistributions.get_dict_counts">
<span class="sig-name descname"><span class="pre">get_dict_counts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dock2D.Tests.check_shape_distributions.ShapeDistributions.get_dict_counts" title="Permalink to this definition"></a></dt>
<dd><p>Initial counts of shape generating parameters used from current protein pool</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shape_params</strong> – list of shape parameters in order</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>alpha_counts</cite>, <cite>numpoints_counts</cite>, <cite>params_list</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Dock2D.Tests.check_shape_distributions.ShapeDistributions.get_shape_distributions">
<span class="sig-name descname"><span class="pre">get_shape_distributions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dock2D.Tests.check_shape_distributions.ShapeDistributions.get_shape_distributions" title="Permalink to this definition"></a></dt>
<dd><p>Parse protein pool file and get shape distributions based on parameter combinations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> – loaded protein pool .pkl</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>shapes_plot</cite>, <cite>alphas_packed</cite>, <cite>numpoints_packed</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Dock2D.Tests.check_shape_distributions.ShapeDistributions.get_unique_fracs">
<span class="sig-name descname"><span class="pre">get_unique_fracs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">counts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Dock2D.Tests.check_shape_distributions.ShapeDistributions.get_unique_fracs" title="Permalink to this definition"></a></dt>
<dd><p>Fraction of total counts each unique parameter represents in current protein pool</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>counts</strong> – counts of each current parameter</p></li>
<li><p><strong>dataname</strong> – name of protein pool</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>unique</cite>, <cite>fracs</cite>, <cite>barwidth</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Dock2D.Tests.check_shape_distributions.ShapeDistributions.plot_shapes_and_params">
<span class="sig-name descname"><span class="pre">plot_shapes_and_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Dock2D.Tests.check_shape_distributions.ShapeDistributions.plot_shapes_and_params" title="Permalink to this definition"></a></dt>
<dd><p>Plot a 2D array of example shapes generated using all desired <cite>alpha</cite> and <cite>num_points</cite> parameter combinations and
plot a two histograms opposite the axes corresponding to each parameter.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Dock2D.Tests.check_param_state_dict_cuda.html" class="btn btn-neutral float-left" title="check_param_state_dict_cuda.py" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Dock2D.Tests.check_torchFFT.html" class="btn btn-neutral float-right" title="check_torchFFT.py" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Siddharth Bhadra-Lobo, Georgy Derevyanko, Guillaume Lamoureux.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>